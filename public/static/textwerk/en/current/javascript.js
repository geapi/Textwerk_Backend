(function(){var a="standard_theme";if(!SC.BUNDLE_INFO){throw"SC.BUNDLE_INFO is not defined!"
}if(SC.BUNDLE_INFO[a]){return}SC.BUNDLE_INFO[a]={requires:["sproutcore"],styles:["/static/standard_theme/en/current/stylesheet-packed.css","/static/standard_theme/en/current/stylesheet.css"],scripts:["/static/standard_theme/en/current/javascript-packed.js"]}
})();Textwerk=SC.Application.create({NAMESPACE:"Textwerk",VERSION:"0.1.2",ds:null,_distinctYears:null,loadingFromFixtures:NO,getDistinctYears:function(){if(this._distinctYears){console.log("Already have the years")
}else{console.log("Computing the years");var a=this.store.find(Textwerk.AclPaper);
this._distinctYears=[];a.forEach(function(b){var c=b.get("year");if(this._distinctYears.indexOf(c)==-1){this._distinctYears[this._distinctYears.length]=c
}return YES},this);console.log("Total (distinct) years found: "+this._distinctYears.length)
}return this._distinctYears},});Textwerk.affiliationsController=SC.ArrayController.create({});
Textwerk.authorsController=SC.ArrayController.create({});Textwerk.collectionController=SC.ObjectController.create({isEditable:NO,contentBinding:"Textwerk.collectionsController.selection",contentBindingDefault:SC.Binding.oneWay().single(),collectionViewDeleteContent:function(a,c,b){Textwerk.deleteSelectedMembers();
return YES},addDocument:function(){var a=this.get("content")||null;if(a){a.addMember(Textwerk.Paper,YES)
}}});Textwerk.collectionContentController=SC.ArrayController.create({contentBinding:"Textwerk.collectionController.members",contentBindingDefault:SC.Binding.multiple().oneWay(),selectionBinding:"Textwerk.documentController.selection"});
Textwerk.collectionsController=SC.ArrayController.create({content:null,selection:null,changedCollection:function(){console.log("collection changed")
},_changedSelectedObject:function(){console.log("selection changed: "+this.get("selected"));
var a=CoreTextwerk.store.find(CoreTextwerk.Collection,this.get("selected"));this.selectObject(a)
}.observes("selected"),selected:null,addCollection:function(){var a=CoreTextwerk.get("store");
if(a){var b=CoreTextwerk.createRecord(CoreTextwerk.Collection,{name:"New Collection",papers:[]})
}},removeCollection:function(){var a=this.getPath("selection.firstObject");CoreTextwerk.destroyRecord(a)
}});Textwerk.dashboardController=SC.ObjectController.create({openDashboard:function(){Textwerk.getPath("mainPage.mainPane").append();
Textwerk.setPath("mainPage.mainPane.dashboard.nowShowing","Textwerk.dashboardPage.dashboard")
}});Textwerk.documentController=SC.ObjectController.create({selection:null,_selectionChanged:function(){}.observes("selection"),deselect:function(){Textwerk.collectionContentController.selectObject()
}});Textwerk.helper=SC.ObjectController.create({computePosition:function(a,c){var b=SC.RootResponder.responder.computeWindowSize(),d={x:0,y:0,width:b.width,height:b.height};
return this.fitPositionToScreenDefault(d,a,c)},fitPositionToScreenDefault:function(c,d,b){if(SC.maxX(d)>c.width){var e=Math.max(SC.maxX(b),d.width);
d.x=Math.min(e,c.width)-d.width}if(SC.minX(d)<0){d.x=SC.minX(Math.max(b,0));if(SC.maxX(d)>c.width){d.x=Math.max(0,c.width-d.width)
}}if(SC.maxY(d)>c.height){e=Math.max((b.y-d.height),0);if(e>c.height){d.y=Math.max(0,c.height-d.height)
}else{d.y=e}}if(SC.minY(d)<0){e=Math.min(SC.maxY(b),(c.height-b.height));d.y=Math.max(e,0)
}return d}});Textwerk.venuesController=SC.ArrayController.create({});Textwerk.mixin({_citationNetworkShowing:NO,_pageRankShowing:NO,_collaborationNetworkShwoing:NO,deleteSelectedMembers:function(){var e,d,g,a,c,f,b=Textwerk.collectionController;
e=Textwerk.collectionContentController.get("selection");d=[];g=b.get("content");if(e){a=e.get("length");
c=(a===1)?"Are you sure you want to delete this member":"Are you sure you want to delete these members";
f=SC.Object.create({button1Action:function(){if(e&&e.isEnumerable){e.forEach(function(h){d.push(h)
})}if(g){d.forEach(function(h){g.removeMember(h)})}},alertPaneDidDismiss:function(i,h){switch(h){case SC.BUTTON1_STATUS:if(this.button1Action){this.button1Action()
}break;case SC.BUTTON2_STATUS:if(this.button2Action){this.button2Action()}break}}});
SC.AlertPane.warn("Delete?",c,"","Delete","Cancel","",f)}},loadData:function(){var a=CoreTextwerk.get("store");
Textwerk.collectionsController.set("content",a.find(CoreTextwerk.Collection));a.find(CoreTextwerk.Paper);
console.log("at the end of load data, store was: "+a)},showCitationNetwork:function(){return this._citationNetworkShowing=!this._citationNetworkShowing
},showPageRank:function(){return this._pageRankShowing=!this._pageRankShowing},showCollaborationNetwork:function(){return this._collaborationNetworkShwoing=!this._collaborationNetworkShwoing
}});Textwerk.mixin({});Textwerk.DashboardState=Ki.State.extend({initialSubstate:"ready",ready:Ki.State.design({enterState:function(){CoreTextwerk.initializeStore();
Textwerk.loadData();Textwerk.dashboardController.openDashboard()},search:function(){this.gotoState("search")
}})});Textwerk.DetailsState=Ki.State.extend({initialSubstate:"details",details:Ki.State.design({topLevel:function(){console.log("top level")
},mediumLevel:function(){console.log("medim level")},detailLevel:function(){console.log("detail level")
}})});Textwerk.SearchState=Ki.State.extend({initialSubstate:"searching",searching:Ki.State.design({noResults:function(){this.gotoState("noResults")
},results:function(){this.gotoState("results")}}),notResults:Ki.State.design({enterState:function(){this.gotoState("dashboard")
}}),results:Ki.State.design({enterState:function(){console.log("found results")}})});
sc_require("states/dashboard");sc_require("states/details");sc_require("states/search");
Textwerk.mixin({statechart:Ki.Statechart.create({trace:NO,rootState:Ki.State.design({initialSubstate:"dashboard",dashboard:Ki.State.plugin("Textwerk.DashboardState"),search:Ki.State.plugin("Textwerk.SearchState"),details:Ki.State.plugin("Textwerk.DetailsState")})})});
Textwerk.aclView=SC.View.extend(SC.ContentDisplay,{_mouse_x:15,_mouse_y:15,classNames:["custom-view"],displayProperties:["content","isSelected"],contentDisplayProperties:"content".w(),render:function(e,h){var g=this.get("content");
var c=this.get("isSelected");var a=0;console.log("render called");if(g){g.forEach(function(i){e=e.begin("div").addClass("acl-paper").push(i.get("guid").substring(0,1)).end();
a++},this)}var b=!c;var f=c;var d={standard:b,selected:f};arguments.callee.base.apply(this,arguments)
},mouseDown:function(a){return NO},mouseMoved:function(a){return NO}});Textwerk.AddButtonView=SC.View.extend(SCUI.SimpleButton,{classNames:["addbutton-view"],title:"",icon:null,hasState:NO,hasHover:YES,isSelected:NO,hasSelectionDecoration:YES,buttonSize:{width:77},displayProperties:["isSelected"],init:function(){arguments.callee.base.apply(this,arguments);
var b=this.get("layout");var a=this.get("buttonSize");b=SC.merge(b,a);this.set("layout",b)
},render:function(b,c){var a=this.get("isSelected");if(a&&this.get("hasSelectionDecoration")){b=b.begin("div").addClass("addbutton-inner");
b=this._addIconLabel(b);b=b.end();b=b.begin("div").addClass("addbutton-end").end()
}else{b=this._addIconLabel(b)}b=b.setClass("sel",a);arguments.callee.base.apply(this,arguments)
},_addIconLabel:function(a){var b=this.get("icon");var c=this.get("title");if(b){a=a.begin("div").addClass("icon %@".fmt(b)).end()
}a=a.begin("div").addClass("label").text(c).end();return a}});Textwerk.CollectionItemView=SC.View.extend(SC.ContentDisplay,{classNames:["family"],displayProperties:["content","isSelected"],content:null,render:function(a,b){arguments.callee.base.apply(this,arguments);
if(this.get("isSelected")){a.addClass("selected")}},createChildViews:function(){var d=[];
var c=this.get("content");if(SC.none(c)){return}var b=this.createChildView(SC.LabelView.extend({layout:{centerY:0,left:10,right:48,height:24},classNames:["name"],content:c,isEditable:YES,fontWeight:SC.BOLD_WEIGHT,valueBinding:SC.binding(".name",c)}));
d.push(b);var a=this.createChildView(SC.LabelView.extend({classNames:["badge"],content:c,layout:{centerY:0,right:10,width:28,height:18},textAlign:SC.ALIGN_CENTER,fontWeight:SC.BOLD_WEIGHT,valueBinding:SC.binding("*members.length",c)}));
d.push(a);this.set("childViews",d)}});Textwerk.documentDetailView=SC.View.extend(SC.ContentDisplay,{_mouse_x:15,_mouse_y:15,_oldX:-1,_oldY:-1,create:function(){},classNames:["custom-list-item-view"],displayProperties:"isSelected".w(),contentDisplayProperties:"guid name".w(),render:function(d,g){var f=this.get("content");
var b=this.get("isSelected");var a=!b;var e=b;var c={standard:a,selected:e};if(b){this.renderSelected(d,g,c,f)
}else{this.renderUnselected(d,g,c,f)}arguments.callee.base.apply(this,arguments)},mouseDown:function(a){var b=this.get("content").get("guid");
if(b>=0){this._mouse_x=a.pageX;this._mouse_y=a.pageY}return NO},mouseMoved:function(a){arguments.callee.base.apply(this,arguments);
var b=this.get("content").get("guid");return NO},renderSelected:function(e,a,h,k){if(a){}var j=this.get("layout");
var i={x:j.left,y:j.top,width:40,height:40};var b={x:i.x,y:i.y,width:200,height:200};
var g=Textwerk.helper.computePosition(b,i);var d=k.get("guid");d+=1;var o=k.get("title");
var m=k.get("authors")?k.get("authors"):"n/a";var n=m.length;var l=k.get("year")?k.get("year"):"n/a";
var f=k.get("venue");var c=this.get("isSelected");e=e.setClass(h);e=e.begin().addClass("detailView");
e=e.push('<a href="javascript: void(0);" class="closeButton" onclick="Textwerk.documentController.deselect();">X</a>');
e=e.begin("p").addClass("item").addClass("authors").push("<strong>authors</strong>:"+m);
e=e.begin("span").addClass("label").push("<br/>title:").end();e=e.begin("span").addClass("value").push(o).end();
e=e.end();e=e.begin("p").addClass("item").addClass("date");e=e.begin("span").addClass("label").push("<br/>Year:<br/>").end();
e=e.begin("span").addClass("value").push(l).end();e=e.end();e=e.begin("p").addClass("item").addClass("pmid");
e=e.begin("span").addClass("label").push("<br/>venue: <br/>"+f).end();e=e.end();if(g.x!=i.x||g.y!=i.y){this._oldX=i.x;
this._oldY=i.y;this.adjust({left:g.x,top:g.y});this.updateLayout()}else{this._oldX=-1
}},renderUnselected:function(c,h,b,f){var e=this.get("layout");if(h){}else{}if(this._oldX!=-1){this.adjust({left:this._oldX,top:this._oldY});
this.updateLayout()}var g=f.get("guid");g=g+1;var a=f.get("icon");c=c.setClass(b);
var d="/static/textwerk/en/current/resources/images/document_icon.png";c=c.push('<img src="%@" style="left: 144px; width: 16px; top: 0px; height: 18px">'.fmt(d))
}});sc_require("views/document_detail_view");Textwerk.dashboardPage=SC.Page.design({dashboard:SC.View.design({childViews:"yearLabel yearSelector authorsLabel authorsSelector venuesLabel venuesSelector affiliationsLabel affiliationsSelector gridView".w(),yearLabel:SC.LabelView.design({classNames:["categoryLabel"],layout:{top:10,left:10,height:25,width:250},valueBinding:SC.Binding.transform(function(a,b){return"Years: %@".fmt(a)
}).from("Textwerk.collectionsController.length")}),yearSelector:SC.SelectFieldView.design({classNames:["categoryList"],layout:{top:35,left:10,height:25,width:200},objectsBinding:"Textwerk.collectionsController",valueBinding:"Textwerk.collectionsController.selected",nameKey:"nameAndCount",valueKey:"id"}),authorsLabel:SC.LabelView.design({classNames:["categoryLabel"],layout:{top:10,left:250,height:25,width:250},valueBinding:SC.Binding.transform(function(a,b){return"Authors: %@".fmt(a)
}).from("Textwerk.authorsController.length")}),authorsSelector:SC.SelectFieldView.design({classNames:["categoryList"],layout:{top:35,left:250,height:25,width:200},objectsBinding:"Textwerk.authorsController.content",nameKey:"name",valueKey:"name"}),venuesLabel:SC.LabelView.design({classNames:["categoryLabel"],layout:{top:10,left:510,height:25,width:250},valueBinding:SC.Binding.transform(function(a,b){return"Venues: %@".fmt(a)
}).from("Textwerk.venuesController.length")}),venuesSelector:SC.SelectFieldView.design({classNames:["categoryList"],layout:{top:35,left:510,height:25,width:200},objectsBinding:"Textwerk.venuesController.content",nameKey:"name",valueKey:"name"}),affiliationsLabel:SC.LabelView.design({classNames:["categoryLabel"],layout:{top:10,left:760,height:25,width:250},valueBinding:SC.Binding.transform(function(a,b){return"Affiliations: %@".fmt(a)
}).from("Textwerk.affiliationsController.length")}),affiliationsSelector:SC.SelectFieldView.design({classNames:["categoryList"],layout:{top:35,left:760,height:25,width:200},objectsBinding:"Textwerk.affiliationsController.content",nameKey:"name",valueKey:"name"}),xAxisView:SC.View.design({}),gridView:SC.ScrollView.design({layout:{top:70,left:0,right:0,bottom:35},backgroundColor:"white",hasHorizontalScroller:NO,contentView:SC.GridView.design({classNames:["tw-grid"],contentValueKey:"id",contentBinding:SC.Binding.from("Textwerk.collectionContentController").oneWay(),rowHeight:40,columnWidth:40,exampleView:Textwerk.documentDetailView,selectionBinding:"Textwerk.documentController.selection",keyDown:function(a){arguments.callee.base.apply(this,arguments);
if(a.keyCode===27){Textwerk.documentController.deselect();return YES}else{return NO
}}})}),xAxisView:SC.View.design({})})});Textwerk.ListButtonView=SC.View.extend(SCUI.SimpleButton,{title:"",icon:null,hasState:NO,hasHover:YES,isSelected:NO,render:function(a,b){a.begin("img").attr("src","/static/sproutcore/foundation/en/current/blank.gif").end();
arguments.callee.base.apply(this,arguments)}});Textwerk.NodeView=SC.View.extend(LinkIt.NodeView,{layout:{top:0,left:0,width:150,height:200},displayProperties:["content","isSelected"],content:null,render:function(a){var b=this.get("content");
a.addClass("document");arguments.callee.base.apply(this,arguments);if(this.get("isSelected")){a.addClass("selected")
}},createChildViews:function(){var g=[],d,f,b,a,h;var c=this.get("content");if(SC.none(c)){return
}var e=this.createChildView(SC.View.extend({classNames:["icon"],content:c,layout:{centerY:0,left:5,width:25,height:25},render:function(i,j){i=i.addClass("male");
arguments.callee.base.apply(this,arguments)}}));f=this.createChildView(SC.LabelView.extend({classNames:["name"],content:c,isEditable:YES,layout:{top:10,left:1,width:30,height:25},textAlign:SC.ALIGN_CENTER,escapeHTML:NO,value:"<b>Title:</b> "}));
b=this.createChildView(SC.LabelView.extend({classNames:["aclTitle"],content:c,isEditable:YES,layout:{top:10,left:5,width:140,height:75},textAlign:SC.ALIGN_CENTER,escapeHTML:YES,valueBinding:SC.binding(".title",c)}));
g.push(b);d=this.createChildView(SC.LabelView.extend({classNames:["author"],content:c,isEditable:YES,layout:{top:100,centerX:0,width:125,height:65},textAlign:SC.ALIGN_CENTER,valueBinding:SC.binding(".authors",c)}));
g.push(d);a=this.createChildView(SC.LabelView.extend({classNames:["year"],content:c,isEditable:YES,layout:{top:155,centerX:0,width:125,height:25},textAlign:SC.ALIGN_CENTER,valueBinding:SC.binding(".year",c)}));
g.push(a);h=this.createChildView(SC.LabelView.extend({classNames:["venue"],content:c,isEditable:YES,layout:{top:170,centerX:0,width:125,height:25},textAlign:SC.ALIGN_CENTER,valueBinding:SC.binding(".venue",c)}));
g.push(h);this._term_cit=this.createChildView(SC.View.extend(LinkIt.Terminal,{classNames:["citee-terminal"],layout:{left:10,top:-5,width:8,height:8},linkStyle:{lineStyle:LinkIt.VERTICAL_CURVED,width:3,color:"#A5C0DC",cap:LinkIt.ROUND,directionIndicator:LinkIt.FORWARD},node:c,terminal:"cit",direction:LinkIt.INPUT_TERMINAL}));
g.push(this._term_cit);this._term_ref=this.createChildView(SC.View.extend(LinkIt.Terminal,{classNames:["referrer-terminal"],layout:{right:10,bottom:-5,width:8,height:8},linkStyle:{lineStyle:LinkIt.VERTICAL_CURVED,width:3,color:"#A5C0DC",cap:LinkIt.ROUND,directionIndicator:LinkIt.FORWARD},node:c,terminal:"ref",direction:LinkIt.OUTPUT_TERMINAL,}));
g.push(this._term_ref);this.set("childViews",g)},terminalViewFor:function(a){return this["_term_"+a]
}});Textwerk.toolBars=SC.Page.design({top:SC.ToolbarView.design({classNames:["header"],layout:{top:0,left:0,right:0,height:45},childViews:"labelView taglineView searchField searchedTerm searchButton".w(),anchorLocation:SC.ANCHOR_TOP,labelView:SC.LabelView.design({layout:{centerY:0,height:24,left:8,width:200,top:5},controlSize:SC.LARGE_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,value:"Textwerk"}),taglineView:SC.LabelView.design({layout:{centerY:0,height:24,left:8,width:300,top:25},controlSize:SC.SMALL_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,value:"visualizing indicators of influence"}),searchedTerm:SC.LabelView.design({layout:{centerY:0,height:18,left:200,right:200,width:700},textAlign:SC.ALIGN_CENTER,valueBinding:"Textwerk.lawController.searchTermOverviewL",contentBinding:"Textwerk.lawController.searchTermOverviewL"}),loadingImage:SC.ImageView.design({layout:{top:14,height:16,right:350,width:16},value:"/static/textwerk/en/current/resources/images/loading.gif",useImageCache:NO,isVisibleBinding:"Textwerk.lawController.searching"}),searchField:SC.TextFieldView.design({layout:{centerY:0,height:24,right:120,width:200},controlSize:SC.LARGE_CONTROL_SIZE,fontWeight:SC.BOLD_WEIGHT,hint:"type your search here",valueBinding:"Textwerk.lawController.searchTermLaw",target:"Textwerk.lawController",keyDown:function(a){arguments.callee.base.apply(this,arguments);
if(a.charCode===13){Textwerk.lawController.searchPubmed();return YES}else{return NO
}}}),searchButton:SC.ButtonView.design({layout:{centerY:0,height:24,right:12,width:100},title:"Search",target:"Textwerk.lawController",action:"searchPubmed"})}),bottom:SC.ToolbarView.design({classNames:["footer"],layout:{bottom:0,left:0,right:0,height:32},childViews:"copyrightLabel".w(),toolBarSize:35,anchorLocation:SC.ANCHOR_BOTTOM,copyrightLabel:SC.LabelView.design({layout:{centerY:0,height:24,centerX:0,width:200},escapeHTML:NO,value:"Textwerk &copy; 2011"})})});
sc_require("views/tool_bars");Textwerk.oldViews=SC.Page.design({dashboard:SC.View.design({childViews:"topBar master footer canvas bottomBar".w(),topBar:Textwerk.toolBars.top,master:SC.ScrollView.design(SC.Border,{borderStyle:SC.BORDER_GRAY,layout:{left:0,top:45,width:259,bottom:55},hasVerticalScroller:YES,contentView:SC.ListView.design({classNames:["master-list"],layout:{left:0,top:0,width:259,bottom:0},rowHeight:43,rowSpacing:2,exampleView:Textwerk.CollectionItemView,selectionBinding:"Textwerk.collectionsController.selection",contentBinding:"Textwerk.collectionsController",contentValueKey:"name",actOnSelect:YES,target:Textwerk.collectionsController,action:"changedCollection"})}),footer:SC.View.design({classNames:["footer"],layout:{left:0,bottom:32,width:259,height:35},childViews:"addCollectionButton removeCollectionButton".w(),addCollectionButton:Textwerk.ListButtonView.design({layout:{centerX:-14,centerY:0,height:24,width:27},classNames:["add"],target:Textwerk.collectionsController,action:"addCollection"}),removeCollectionButton:Textwerk.ListButtonView.design({layout:{centerX:13,centerY:0,height:24,width:27},classNames:["remove"],target:Textwerk.collectionsController,action:"removeCollection"})}),canvas:LinkIt.CanvasView.design({layout:{left:259,right:0,top:45,bottom:32},classNames:["collection-canvas"],contentBinding:SC.Binding.from("Textwerk.collectionContentController").oneWay(),selectionBinding:"Textwerk.collectionContentController.selection",nodeViewDelegate:Textwerk.collectionController,exampleView:Textwerk.NodeView,delegate:Textwerk.collectionController}),palette:SC.View.design({layout:{right:0,top:62,height:222,width:77},childViews:"addDecorator addMale addFemale addPet".w(),addDecorator:SC.View.design({layout:{left:0,right:0,top:0,height:23},classNames:["add-decorator"]}),addMale:Textwerk.AddButtonView.design({layout:{left:0,right:0,top:23,height:65},classNames:["add-male"],title:"Male",target:Textwerk.familyController,action:"addMale"}),addFemale:Textwerk.AddButtonView.design({layout:{left:0,right:0,top:88,height:66},classNames:["add-female"],title:"Female",target:Textwerk.familyController,action:"addFemale"}),addPet:Textwerk.AddButtonView.design({layout:{left:0,right:0,top:154,height:68},classNames:["add-pet"],title:"Pet",target:Textwerk.familyController,action:"addPet"})}),bottomBar:Textwerk.toolBars.bottom}),canvasListView:SC.View.design(SC.Border,{childViews:"master footer canvas".w(),master:SC.ScrollView.design(SC.Border,{borderStyle:SC.BORDER_GRAY,layout:{left:0,top:0,width:259,bottom:68},hasVerticalScroller:YES,hasHorizontalScroller:NO,contentView:SC.ListView.design({classNames:["master-list"],layout:{left:0,top:0,width:259,bottom:0},rowHeight:43,rowSpacing:2,exampleView:Textwerk.CollectionItemView,selectionBinding:"Textwerk.collectionsController.selection",contentBinding:"Textwerk.collectionsController",contentValueKey:"name",actOnSelect:YES,target:Textwerk.collectionsController,action:"changedCollection"})}),footer:SC.View.design({classNames:["footer"],layout:{left:0,bottom:32,width:259,height:35},childViews:"addCollectionButton removeCollectionButton".w(),addCollectionButton:Textwerk.ListButtonView.design({layout:{centerX:-14,centerY:0,height:24,width:27},classNames:["add"],target:Textwerk.collectionsController,action:"addCollection"}),removeCollectionButton:Textwerk.ListButtonView.design({layout:{centerX:13,centerY:0,height:24,width:27},classNames:["remove"],target:Textwerk.collectionsController,action:"removeCollection"})}),canvas:LinkIt.CanvasView.design({layout:{left:259,right:0,top:0,bottom:32},classNames:["collection-canvas"],contentBinding:SC.Binding.from("Textwerk.collectionContentController").oneWay(),selectionBinding:"Textwerk.collectionContentController.selection",nodeViewDelegate:Textwerk.collectionController,exampleView:Textwerk.NodeView,delegate:Textwerk.collectionController}),palette:SC.View.design({layout:{right:0,top:62,height:222,width:77},childViews:"addDecorator addMale addFemale addPet".w(),addDecorator:SC.View.design({layout:{left:0,right:0,top:0,height:23},classNames:["add-decorator"]}),addMale:Textwerk.AddButtonView.design({layout:{left:0,right:0,top:23,height:65},classNames:["add-male"],title:"Male",target:Textwerk.familyController,action:"addMale"}),addFemale:Textwerk.AddButtonView.design({layout:{left:0,right:0,top:88,height:66},classNames:["add-female"],title:"Female",target:Textwerk.familyController,action:"addFemale"}),addPet:Textwerk.AddButtonView.design({layout:{left:0,right:0,top:154,height:68},classNames:["add-pet"],title:"Pet",target:Textwerk.familyController,action:"addPet"})})})});
sc_require("views/tool_bars");Textwerk.mainPage=SC.Page.design({invalidBrowserPane:SC.Pane.design({childViews:"title main".w(),title:SC.View.design({layout:{left:0,top:0,right:0,height:56},classNames:["header"],render:function(a,b){a=a.begin("div").addClass("logo").text("family tree").end();
a=a.begin("div").addClass("blurb").text("a scui linkit example").end();a=a.begin("div").addClass("leaves").end()
}}),main:SC.View.design({layout:{left:0,top:56,right:0,bottom:0},render:function(a,b){a=a.begin("div").addClass("apology").text("Sorry, Linkit is designed for desktop application for now and we are working on adding mobile support...").end()
}})}),mainPane:SC.MainPane.design({defaultResponder:"Textwerk.statechart",dashboard:SC.outlet("masterView"),childViews:"masterView".w(),masterView:SC.WorkspaceView.extend({topToolbar:Textwerk.toolBars.top,contentView:SC.View.design({childViews:"tasksSceneView bottomToolbar".w(),tasksSceneView:SC.SceneView.design({layout:{top:0,bottom:0,left:0,right:0},scenes:["Textwerk.oldViews.canvasListView","Textwerk.dashboardPage.dashboard"],transitionDuration:0,nowShowing:"Textwerk.dashboardPage.dashboard"}),bottomToolbar:Textwerk.toolBars.bottom})})})});
Textwerk.main=function main(){document.title="TextWerk - The Indicator of Influence visualization";
if(SC.browser.isMobileSafari||SC.browser.isiPhone){Textwerk.getPath("mainPage.invalidBrowserPane").append()
}else{if(window.location.hash.toString().match("fixtures")){CoreTextwerk.set("dataSourceType",CoreTextwerk.FIXTURES_DATA_SOURCE)
}Textwerk.statechart.initStatechart()}};function main(){Textwerk.main()};